% $Id$
\documentclass[a4j]{jarticle}
% \usepackage{times}
% \usepackage{amsmath}
% \usepackage{ascmac}
\usepackage{graphicx}
\setlength{\columnsep}{2zw}
\setlength{\textwidth}{174mm}
\setlength{\oddsidemargin}{-0.5cm}
\setlength{\evensidemargin}{+1.2cm}
\setlength{\topmargin}{-1.0cm}
\setlength{\textheight}{46\baselineskip}
\addtolength{\footskip}{+0cm}
\setcounter{topnumber}{5}%    ページ上部の図表は 5 個まで
\def\topfraction{1.00}%       ページの上 1.00 まで図表で占めて可
\setcounter{bottomnumber}{5}% ページ下部の図表は 5 個まで
\def\bottomfraction{1.00}%    ページの下 1.00 まで図表で占めて可
\setcounter{totalnumber}{10}% ページあたりの図表は 10 個まで
\def\textfraction{0.04}%

\title{SynGraph: 国語辞典とコーパスから自動抽出した\\同義・上位下位関係に
基づく柔軟マッチング}

\author{柴田 知秀 \and 小谷 通隆 \and 黒橋 禎夫}
 \date{\today}

\begin{document}
\maketitle

\section{概要}

SynGraphとは、同義・上位下位関係などの語/句の関係を依存構造木に付与した
データ構造のことである。依存構文木(KNPの解析結果)をSynGraphに変換するこ
とによって、表層的には異なるが同じ意味である2文をマッチングさせることや、
文の類似度を計算することなどが可能となる。(詳しくは論文\cite{Oonishi06,
Odani07, Shibata08}を参照して下さい。)

SynGraphのベースとなるのは、入力文の依存構造木であり、そのノードは1つの
自立語と0個以上の付属語からなるもので、基本ノードとよぶ。そして、基本ノー
ドの自立語に同義グループがあれば、そのSYNIDを別のノードとして与える（こ
れをSYNノードとよぶ）。図\ref{fig:syngraph}では色のついたノードが基本ノー
ド、それ以外のノードがSYNノードである基本ノードを同義表現のSYN ノードと
区別するのは、完全マッチを優先するためである。

さらに、複数のノードに対応する表現に同義グループがあれば、そのSYNIDのノー
ドも加える。図\ref{fig:syngraph}の＜最寄り＞がこのようなSYNノードである。
そしてさらに、各SYNノードに対して、類義表現データベースにおいて上位の同
義グループがあれば、そのSYNノードを加える。また、各ノードには、もとの文
の表現からのずれに応じたスコア、NS(Node Score) を与える。

  \begin{figure}[t]
   \begin{center}
    \includegraphics[width=10cm,keepaspectratio,clip]{eps/syngraphJ.eps}
    \caption{SynGraphの例}
    \label{fig:syngraph}
   \end{center}
  \end{figure}

\section{プログラム・データ}

以下のコマンドにより、cvsで辞書データ・SynGraph変換スクリプトを取得する
ことができる\footnote{(黒橋研外部の方は柴田(shibata@i.kyoto-u.ac.jp)まで
お問い合わせ下さい。)}。

\begin{verbatim}
% cvs -d reed.kuee.kyoto-u.ac.jp:/share/service/cvs co SynGraph
\end{verbatim}

主な辞書データ・スクリプトなどを図\ref{fig:dic_data},\ref{fig:scripts}に
示す。

また、SynGraphを動作させるのに必要なプログラムを以下に示す。

\begin{itemize}
 \item Juman/KNP (http://nlp.kuee.kyoto-u.ac.jp/nl-resource/)
 \item TinyCDB (http://www.corpit.ru/mjt/tinycdb.html)
 \item BerkeleyDB (http://www.oracle.com/technology/software/products/berkeley-db/index.html)
 \item Perl5.8以上
 \item Perlモジュール
  \begin{itemize}
  \item CPANからダウンロード可能
  \begin{itemize}
   \item CDB\_File
   \item  BerkeleyDB
   \item MLDBM
  \end{itemize}

 \item 黒橋研究室で開発されているもの
 \begin{itemize}
  \item Juman.pm (juman-6.0/perl)
  \item KNP.pm   (knp-3.01/perl)
  \item CalcSimilarityByCF.pm (分布類似度計算モジュール) = 辞書コンパイルに必要, ユーザは不要
 \end{itemize}
 \end{itemize}
\end{itemize}

\begin{figure}[t]
\footnotesize
\begin{center}
\begin{minipage}{\hsize}
\begin{verbatim}
VERSION : バージョン (例: 1.8-20080822)

ExtractSynfromDic/ : 辞書から同義表現抽出ツール
  orig/ : 元データ
    wikipedia.txt       Wikipediaから抽出した定義文
    aimai_list.txt      Wikipediaの曖昧さ回避ページから抽出した多義語リスト

  scripts/ : スクリプト
    x4syn.pl            同義・上位下位・反義関係抽出
    extract_text_from_wikipedia.pl            Wikipediaから定義文抽出

dic/ : 同義表現辞書
  rsk_iwanami/ : RSK、iwanamiからの知識抽出結果
    synonym.txt         同義グループデータ
    definition.txt      定義文データ
    isa.txt             上位下位データ
    antonym.txt         反義データ

  web_news/ : WEB、新聞記事からの知識抽出結果
    nation.txt          wikipediaの国名ページがら抽出
    news.txt            毎日新聞・読売新聞・朝日新聞中の括弧表現から抽出
    www.txt             WWW中の括弧表現から抽出
    all.txt             上記のファイルをマージしたもの

  wikipedia/ : Wikipediaからの知識抽出結果
    isa.txt             上位下位データ
    redirect_synonym_share_character_frequent.txt             リダイレクトから抽出した同義語
    aimai_synonym_isa.txt             曖昧さ回避ページから抽出した同義語・上位語

dic_change/ : 整形後の同義表現辞書
  synonym_dic.txt               辞書から抽出した同義グループデータ
  definition.txt                辞書から抽出した定義文データ
  isa.txt                       辞書から抽出した上位下位データ
  isa_wikipedia.txt             Wikipediaから抽出した上位下位データ
  antonym.txt                   辞書から抽出した反義データ
  synonym_web_news.txt          Webと新聞から抽出した同義グループデータ
\end{verbatim}
\end{minipage}
\end{center}
\caption{主な辞書データ}
\label{fig:dic_data}
\end{figure}

\begin{figure}[t]
\footnotesize
\begin{center}
\begin{minipage}{\hsize}
\begin{verbatim}

perl/ : Perlモジュール
  SynGraph.pm                   SynGraphを扱うモジュール
  CalcSimWithSynGraph.pm        SynGraphを用いてマッチングを行うモジュール

scripts/ : スクリプト
  merge_dic.sh                  辞書データ整形のスクリプト
  build.sh                      コンパイル(DB作成)のスクリプト
  conv_syndb.pl                 コンパイルの前処理
  compile.pl                    コンパイル(類義表現DBのSynGraph化)
  sort_synhead.pl               類義表現DBのヘッドハッシュをソート
　knp_syn.pl                    SynGraph化のテストプログラム

syndb/ : 同義表現データベース
  i686/ : 
    synhead.cdb                 類義表現DB(headから同義グループを呼ぶ)
    syndata.mldbm               類義表現DB(同義グループに属すSynGraphを呼ぶ)
    synparent.cdb               上位データベース(上位グループを呼ぶ)
    synantonym.cdb              反義データベース(反義グループを呼ぶ)
　  syndb.cdb                   同義グループの中身を保存

  x86_64/ : 
    (i686/と同じ)
  
  cgi/ : CGIで使用するDB
    synhead.cdb                 類義表現DB(headから同義グループを呼ぶ)
    synparent.cdb               上位データベース(上位グループを呼ぶ)
    synantonym.cdb              反義データベース(反義グループを呼ぶ)
    syndata.mldbm               SynGraph化のLOG付syndata
　  syndb.cdb                   同義グループの中身を保存
　  synnumber.cdb               番号から同義グループを呼ぶ
　  synchild.cdb                下位データベース(下位グループを呼ぶ)
    log_dic.cdb                 辞書からの情報抽出のLOG
　  log_isa.cdb                 DBの上位下位関係付与のLOG
　  log_antonym.cdb             DBの反義関係付与のLOG

cgi : CGIソース
　index.cgi             SynGraphのDEBUG用CGIのソース
\end{verbatim}
\end{minipage}
\end{center}
\caption{主なスクリプト・同義表現データベース}
\label{fig:scripts}
\end{figure}

\section{SynGraph変換}

\subsection{SynGraph変換スクリプト}

KNPの解析結果に対して、SynGraphの情報をうめこむことができる。以下のサン
プルプログラムで行なうことができる。

\begin{verbatim}
% cd scripts
% perl knp_syn.pl -s ホテルに一番近い駅
\end{verbatim}

主なオプションを以下に示す。

\begin{itemize}
 \item -s: 入力文を与える
 \item -relation: 上位語を付与
 \item -antonym: 反義語を付与
 \item -dbdir: 同義表現データベースを指定
\end{itemize}

図\ref{fig:hotel}に示した解析結果は以下のコマンドで動かしたものである。

\begin{verbatim}
% perl knp_syn.pl -s ホテルに一番近い駅 -relation
\end{verbatim}

SYNIDに属する表現を調べたい場合は以下のスクリプトを利用する。

\begin{verbatim}
% perl -I../perl test-sid2word.pl -synid s2332:停車場/ていしゃば
停車場,駅
\end{verbatim}

\subsection{フォーマット}

図\ref{fig:hotel}に「ホテルに一番近い駅」の解析結果を示す。以下に
notationの説明を示す。

\begin{itemize}
 \item 「\#」、「*」、「+」から始まる行はKNPの解析結果のままである。

 \begin{itemize}

 \item 「\#」: 文節に関する情報

 \item 「*」: 基本句に関する情報

 \item 「+」: 形態素に関する情報
 \end{itemize}

 \item 「!!」が付いている行は同じ基本句に対応している基本ノード、SYNノー
       ドに共通する情報を出力する。 左から順に、対応している基本句番号、
       親のノードが対応している基本句番号（複数ある場合は「/」でつないで
       いる）、係り方、見出し、さらに存在すれば文法フラグ、格解析結果な
       どが出力される。

 \item 「!」が付いている行は各ノードの情報を出力する。左から順に、対応す
       る基本句番号、SYNID（基本IDもSYNIDとして表記）、スコア、さらに存
       在すれば文法素性、上位語、反義語などが出力される。以下に文法素性
       を示す。

 \begin{itemize} 
  \item 否定

  \begin{itemize}
   \item KNPの基本句に付与されている素性であり、KNPの素性の\verb!<!否定
	 表現\verb!>!をみて付与している。
  \end{itemize}
  \item 可能
  \item 尊敬
  \item 受身
  \item 使役
 \end{itemize}

上位語・反義語はマッチングした元の表現に対するものであり、上記の文法素性
       とは意味合いが異なる。特に反義語は混乱するので、以下に例をあげる。

\begin{enumerate}
 \item 最悪だ\verb!<!反義語\verb!>!        (= 最善でない)
 \item 最悪だ\verb!<!否定\verb!>!          (= 最悪でない)
 \item 最悪だ\verb!<!反義語\verb!>!\verb!<!否定\verb!>!　(= 最善だ)
\end{enumerate}

       1.は元の表現が「最善でない」であり、「最善」の反義語である「最悪」
       と否定表現がキャンセルされて作られたノードである。2.は「最悪」 + 
       否定表現のノードとなる。3.は「最善だ」と「最悪でない」が同義
       \footnote{厳密には反義+否定は元の表現と同義ではないが、これを扱う
       のは今後の課題である。}であるため、このようになる。

その他に、あれば下位語数が出力される。

\end{itemize}


★複数ノードに関する仕様

\begin{figure}[t]
\footnotesize
\begin{center}
\begin{minipage}{\hsize}
\begin{verbatim}
perl knp_syn.pl -s ホテルに一番近い駅 -relation
# S-ID:1 KNP:3.1-20100115 DATE:2010/05/28 SCORE:-40.58619 SynGraph:1.16-20100324
* 2D <SM-主体><SM-場所><SM-組織><BGH:ホテル/ほてる><文頭><ニ><助詞><体言><係:ニ格><区切:0-0><RID:1180><格要素><連用要素><正規化代表表記:ホテル/ほてる><主辞代表表記:ホテル/ほてる>
+ 2D <SM-主体><SM-場所><SM-組織><BGH:ホテル/ほてる><文頭><ニ><助詞><体言><係:ニ格><区切:0-0><RID:1180><格要素><連用要素><名詞項候補><先行詞候補><正規化代表表記:ホテル/ほてる><解析格:ニ>
ホテル ほてる ホテル 名詞 6 普通名詞 1 * 0 * 0 "代表表記:ホテル/ほてる 組織名末尾 カテゴリ:場所-施設 ドメイン:レクリエーション;ビジネス" <代表表記:ホテル/ほてる><組織名末尾><カテゴリ:場所-施設><ドメイン:レクリエーション;ビジネス><正規化代表表記:ホテル/ほてる><文頭><記英数カ><カタカナ><名詞相当語><自立><内容語><タグ単位始><文節始><固有キー><文節主辞>
に に に 助詞 9 格助詞 1 * 0 * 0 NIL <品曖><ALT-に-に-に-9-3-0-0-NIL><品曖-格助詞><品曖-接続助詞><かな漢字><ひらがな><付属>
!! 0 1,2/2D <見出し:ホテルに><格解析結果:ニ格>
! 0 <SYNID:ホテル/ほてる><スコア:1>
! 0 <SYNID:s1937:ホテル/ほてる><スコア:0.99>
! 0 <SYNID:s252:宿/やど><スコア:0.693><上位語><下位語数:1>
! 0 <SYNID:s9230:宿泊施設><スコア:0.99>
* 2D <BGH:一番/いちばん><相対名詞修飾><用言弱修飾><副詞><修飾><係:連用><区切:0-4><RID:1398><連用要素><連用節><正規化代表表記:一番/いちばん><主辞代表表記:一番/いちばん>
+ 2D <BGH:一番/いちばん><相対名詞修飾><用言弱修飾><副詞><修飾><係:連用><区切:0-4><RID:1398><連用要素><連用節><正規化代表表記:一番/いちばん><解析格:修飾>
一番 いちばん 一番 副詞 8 * 0 * 0 * 0 "代表表記:一番/いちばん 相対名詞修飾 用言弱修飾" <代表表記:一番/いちばん><相対名詞修飾><用言弱修飾><正規化代表表記:一番/いちばん><漢字><かな漢字><自立><内容語><タグ単位始><文節始><文節主辞>
!! 1 2D <見出し:一番><格解析結果:修飾格>
! 1 <SYNID:一番/いちばん><スコア:1>
! 1 <SYNID:s2073:一番/いちばん><スコア:0.99>
! 1 <SYNID:s582:トップ/とっぷ><スコア:0.99>
! 1 <SYNID:s2072:一番/いちばん><スコア:0.99>
! 1 <SYNID:s2282:何より/なにより><スコア:0.99>
* 3D <BGH:近い/ちかい><連体修飾><用言:形><係:連格><レベル:B-><区切:0-5><ID:（形判連体）><RID:765><連体並列条件><連体節><正規化代表表記:近い/ちかい><主辞代表表記:近い/ちかい>
+ 3D <BGH:近い/ちかい><連体修飾><用言:形><係:連格><レベル:B-><区切:0-5><ID:（形判連体）><RID:765><連体並列条件><連体節><正規化代表表記:近い/ちかい><用言代表表記:近い/ちかい><格要素-ガ:駅><格要素-ニ:ホテル><格要素-ト:NIL><格要素-デ:NIL><格要素-カラ:NIL><格要素-ヨリ:NIL><格要素-マデ:NIL><格要素-時間:NIL><格要素-修飾:一番><格要素-ノ:NIL><格要素-トイウ:NIL><格要素-外の関係:NIL><格フレーム-ガ-主体><格フレーム-ニ-主体><格フレーム-デ-主体><格フレーム-ヨリ-主体><格フレーム-修飾-主体><格フレーム-ガ-主体ｏｒ主体準><格フレーム-ニ-主体ｏｒ主体準><状態述語><時制-現在><時制-無時制><格関係0:ニ:ホテル><格関係1:修飾:一番><格関係3:ガ:駅><格解析結果:近い/ちかい:形9:ガ/N/駅/3/0/1;ニ/C/ホテル/0/0/1;ト/U/-/-/-/-;デ/U/-/-/-/-;カラ/U/-/-/-/-;ヨリ/U/-/-/-/-;マデ/U/-/-/-/-;時間/U/-/-/-/-;修飾/C/一番/1/0/1;ノ/U/-/-/-/-;トイウ/U/-/-/-/-;外の関係/U/-/-/-/->
近い ちかい 近い 形容詞 3 * 0 イ形容詞アウオ段 18 基本形 2 "代表表記:近い/ちかい 反義:形容詞:遠い/とおい" <代表表記:近い/ちかい><反義:形容詞:遠い/とおい><正規化代表表記:近い/ちかい><かな漢字><活用語><自立><内容語><タグ単位始><文節始><文節主辞>
!! 2 3D <見出し:近い>
! 2 <SYNID:近い/ちかい><スコア:1>
! 2 <SYNID:s465:近い/ちかい><スコア:0.99>
! 2 <SYNID:s203:親しい/したしい><スコア:0.99>
! 2 <SYNID:s13:付近/ふきん><スコア:0.99>
! 2 <SYNID:近く/ちかく><スコア:0.99>
!! 1,2 3D <見出し:近い>
! 1,2 <SYNID:s13:付近/ふきん><スコア:0.99>
* -1D <SM-主体><SM-場所><SM-組織><BGH:駅/えき><文末><体言><用言:判><体言止><一文字漢字><レベル:C><区切:5-5><ID:（文末）><裸名詞><RID:1470><提題受:30><主節><定義文主辞><正規化代表表記:駅/えき><主辞代表表記:駅/えき>
+ -1D <SM-主体><SM-場所><SM-組織><BGH:駅/えき><文末><体言><用言:判><体言止><一文字漢字><レベル:C><区切:5-5><ID:（文末）><裸名詞><RID:1470><提題受:30><主節><定義文主辞><判定詞><名詞項候補><先行詞候補><正規化代表表記:駅/えき><用言代表表記:駅/えき><格要素-ガ:NIL><格要素-ヲ:NIL><格要素-ニ:NIL><格要素-デ:NIL><格要素-カラ:NIL><格要素-ヨリ:NIL><格要素-マデ:NIL><格要素-ヘ:NIL><格要素-時間:NIL><格要素-ノ:NIL><格要素-修飾:NIL><格要素-ガ２:NIL><格要素-外の関係:NIL><格フレーム-ガ-主体><格フレーム-デ-主体><格フレーム-カラ-主体><格フレーム-マデ-主体><格フレーム-ヘ-主体><格フレーム-修飾-主体><格フレーム-ガ２-主体><格フレーム-ガ-主体ｏｒ主体準><格フレーム-ガ２-主体ｏｒ主体準><状態述語><時制-無時制><解析連格:ガ><格解析結果:駅/えき:判0:ガ/U/-/-/-/-;ヲ/U/-/-/-/-;ニ/U/-/-/-/-;デ/U/-/-/-/-;カラ/U/-/-/-/-;ヨリ/U/-/-/-/-;マデ/U/-/-/-/-;ヘ/U/-/-/-/-;時間/U/-/-/-/-;ノ/U/-/-/-/-;修飾/U/-/-/-/-;ガ２/U/-/-/-/-;外の関係/U/-/-/-/->
駅 えき 駅 名詞 6 普通名詞 1 * 0 * 0 "代表表記:駅/えき 漢字読み:音 地名末尾 カテゴリ:場所-施設 ドメイン:交通" <代表表記:駅/えき><漢字読み:音><地名末尾><カテゴリ:場所-施設><ドメイン:交通><正規化代表表記:駅/えき><文末><表現文末><漢字><かな漢字><名詞相当語><自立><内容語><タグ単位始><文節始><文節主辞>
!! 3 -1D <見出し:駅>
! 3 <SYNID:駅/えき><スコア:1>
! 3 <SYNID:s2332:停車場/ていしゃば><スコア:0.99>
EOS
\end{verbatim}
\end{minipage}
\caption{「ホテルに一番近い駅」の解析結果}
\label{fig:hotel}
\end{center}
\end{figure}

\subsection{KNP::Resultで読みこむ}

\begin{figure}[t]
\footnotesize
\begin{center}
\begin{minipage}{\hsize}
\begin{verbatim}
#!/usr/bin/env perl

# KNP::Resultを使ってSynGrpah解析結果を読み込むサンプルプログラム

# usage: perl knp_syn.pl -s ホテルに一番近い駅 -relation | perl read-knp-result.pl

use strict;
use encoding 'euc-jp';
use KNP;

my $knp_buf;

while (<>) {
    $knp_buf .= $_;

    if (/^EOS$/) {
        my $knp_result = new KNP::Result($knp_buf);

        print $knp_result->all_dynamic, "\n";

        foreach my $tag ($knp_result->tag) {
            for my $synnodes ($tag->synnodes) {
                print $synnodes->tagid . ' ' . $synnodes->parent . $synnodes->dpndtype . ' ';
                print $synnodes->midasi . ' ' . $synnodes->feature . "\n";

                for my $synnode ($synnodes->synnode) {
                    print ' ' . $synnode->tagid . ' ' . $synnode->synid . ' ' . $synnode->score . "\n";
                }
            }
        }

        $knp_buf = '';
    }
}
\end{verbatim}
\end{minipage}
\caption{read-knp-result.pl}
\label{fig:read_knp_result}
\end{center}
\end{figure}

前節で説明したフォーマットを読み込んで処理するサンプルプログラム
(scripts/read-knp-result.pl)を図\ref{fig:read_knp_result}に示す。

KNP::SynNodesオブジェクトで提供されているメソッドを以下に示す。

\begin{description}
 \item [synnode]
        全てのSynノードを返す。

 \item [tagid]
        対応する基本句IDを返す。

 \item [tagids]
        対応する基本句ID(配列)を返す。

 \item [parent]
        係り先の基本句IDを返す。

 \item [parentids]
        係り先の基本句ID(配列)を返す。

 \item [dpndtype]
        依存関係の種類(D,P,I,A)を返す。

 \item [midasi]
        見出しを返す。

 \item [feature]
        文法素性を返す。
\end{description}

また、KNP::SynNodeオブジェクトで提供されているメソッドを以下に示す。

\begin{description}
 \item [tagid]
        対応する基本句IDを返す。

 \item [tagids]
        対応する基本句ID(配列)を返す。

 \item [synid]
        SynIDを返す。

 \item [synid]
        スコアを返す。

 \item [feature]
        文法素性を返す。
\end{description}

(★以下の節は開発者用です。★)

\section{国語辞典の整形・マージ}

\section{国語辞典からの語の関係の抽出}

国語辞典・コーパスから類義表現を抽出し、ゴミの削除、マージ、多義性解消な
どを行なう。

国語辞典から、以下の関係を抽出する。

\begin{itemize}
\item 同義表現

\item 上位下位関係

\item 反義関係

\item 同義句
\end{itemize}

関係の抽出は人手で整備したパターンで行なう。パターンは数十あり、KNPのルー
ルファイルで記述されている。以下がルールファイルである。

\begin{verbatim}
SynGraph/ExtractSynfromDic/tools/def_sentence.rule
\end{verbatim}

\subsection{上位下位関係}

\subsection{同義表現}

\subsection{反義関係}

辞書の記号「反対語」を利用し、反義関係を抽出する。以下の例では、「みぎ」
の反対語として「左」が抽出される。

\begin{verbatim}
みぎ
    北を向いたときに、東にあたるほう。
    <用例>右がわ。
    <反対語>左。</反対語>
\end{verbatim}



\subsection{同義句}

\section{コーパスからの同義表現抽出}

\subsection{括弧表現を利用したコーパスからの同義表現抽出}

笹野らの手法\cite{Sasano2007}を利用する。

\section{類義表現の整理}

以下のコマンドで行なうことができる。

\begin{verbatim}
% cd scripts
% ./merge_dic.sh
\end{verbatim}

オプションを以下に示す。
\begin{itemize}
 \item -m: 人手での修正を反映
 \item -w: Wikipedia用
\end{itemize}

\subsection{同義表現のマージ}

複数の語が同一である類義表現のグループを、一つの類義表現のグループにマー
ジする。副産物として、多義性が解消できる(場合がある)。

以下の2つの類義表現のグループを、

\begin{itemize}
 \item 書籍/しょせき:1/1:1/1 本/ほん 書物/しょもつ 図書/としょ
 \item 書物/しょもつ:1/1:1/1 本/ほん 書籍/しょせき
\end{itemize}

以下のようにマージする。

\begin{itemize}
\item 書物/しょもつ:1/1:1/1 本/ほん 書籍/しょせき:1/1:1/1 図書/としょ
\end{itemize}

\section{同義表現データベースのコンパイル}

以下のコマンドで行なうことができる。

\begin{verbatim}
% cd scripts
% ./build.sh
\end{verbatim}

主なオプションを以下に示す。

\begin{itemize}
 \item -o: orchid
 \item -l: CGI用
 \item -j: JUMANコマンドを指定
 \item -r: JUMANRCを指定
 \item -d: knpを-dpndで動かす(デフォルトは格解析)
 \item -w: Wikipedia用
\end{itemize}

以下が順に行なわれる。

\begin{itemize}
 \item 同義グループにSYNID付与
 \item 構文解析
 \item コンパイル
\end{itemize}

以下では各手順について詳しく述べる。

\subsection{同義グループにSYNID付与}

\subsection{構文解析}

\subsection{コンパイル}

\section{課題}

\begin{itemize}

\item 辞書を作る・インターフェース設計

 \begin{itemize}
  \item 多義語で対応するIDがわからない場合に「1/1:?/2」のようなIDをふる (例: 仕事)
 \end{itemize}

\item 同義グループ内をさらにグループに分ける (子供 = 童 問題)

\begin{itemize}

\item 分布類似度が閾値以下の場合に別グループ ?

\end{itemize}

\item 同義関係(0.99), 上位下位関係(0.7)のスコアを分布類似度に

 \begin{itemize}
  \item {ホーム, ハウス, 家}というグループに対して、ホーム $\leftrightarrow$ ハウス, 
	ホーム $\leftrightarrow$ 家, ハウス $\leftrightarrow$ 家 の類似度をあらかじめ計算しておき、
	マッチした語間の類似度をかける
 \end{itemize}

\item 品詞の利用

\begin{itemize}
 \item 「食事」と「食べる」, 「買い物」と「買う」がマッチしてしまう
\end{itemize}

\item 付属語の同義

\begin{itemize}
 \item 「使用済み」と「使い終える」
\end{itemize}

\item 高速化

\begin{itemize}
 \item Synノードが付与できるかどうかをチェックする時に工夫
\end{itemize}

 \item 「高くなる = 高まる」、「高くする = 高める」をマッチさせる

\begin{itemize}
 \item ContentW.dicの「形容詞派生」をみてノードを作る
\end{itemize}
 
\end{itemize}

\bibliographystyle{jplain}
\bibliography{reference}

\end{document}
